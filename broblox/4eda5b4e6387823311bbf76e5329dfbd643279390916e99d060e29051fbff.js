!function(){"use strict";var i={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},d:function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},r=React,x=i.n(r),n=CoreUtilities,t=ReactDOM,e=ReactUtilities,l=ReactStyleGuide,s=Roblox,o={catalogSearchV2Url:{url:s.EnvironmentUrls.catalogApi+"/v2/search/items/details",retryable:!0,withCredentials:!0},agreementsAcceptancesUrl:{url:s.EnvironmentUrls.userAgreementsServiceApi+"/v1/acceptances",retryable:!0,withCredentials:!0},assetRootUrlTemplate:"catalog",bundleRootUrlTemplate:"bundles",avatarShopRecommendationUrl:s.EnvironmentUrls.websiteUrl+"/catalog?Category=15",numberOfItemsToDisplay:6},c={getCatalogSearchV2:function(){return n.httpService.get(o.catalogSearchV2Url,{categoryFilter:"Recommended",limit:10})}},y=HeaderScripts,g=RobloxThumbnails,S={robloxSystemUserId:1,itemRestrictionTypes:{thirteenPlus:"ThirteenPlus",limitedUnique:"LimitedUnique",limited:"Limited",rthro:"Rthro"},itemRestrictionIcons:{limited:"icon-limited-label",limitedUnique:"icon-limited-unique-label",thirteenPlus:"",thirteenPlusLimited:"",thirteenPlusLimitedUnique:"",rthroLabel:"",rthroLimitedLabel:""},itemTypes:{bundle:"Bundle",asset:"Asset"},itemStatusTypes:{New:"New",Sale:"Sale",XboxExclusive:"XboxExclusive",AmazonExclusive:"AmazonExclusive",GooglePlayExclusive:"GooglePlayExclusive",IosExclusive:"IosExclusive",SaleTimer:"SaleTimer"},itemStatusClasses:{New:"status-new",Sale:"status-sale",XboxExclusive:"status-default has-text",AmazonExclusive:"status-default has-text",GooglePlayExclusive:"status-default has-text",IosExclusive:"status-default has-text"},itemStatusHasIcons:["SaleTimer"],itemStatusIcons:{SaleTimer:"icon-clock"},itemStatusLabels:{Sale:"Label.Sale",New:"Label.New",XboxExclusive:"Label.Xbox",AmazonExclusive:"Label.Amazon",GooglePlayExclusive:"Label.GoogleOnly",IosExclusive:"Label.AppleOnly"}},m=function(e,t,a){a="Bundle"===a?o.bundleRootUrlTemplate:o.assetRootUrlTemplate;return s.EnvironmentUrls.websiteUrl+"/"+a+"/"+e+"/"+n.seoName.formatSeoName(t)},N=function(e,t,a){return"Group"===t?s.EnvironmentUrls.websiteUrl+"/groups/"+e+"/"+a:s.EnvironmentUrls.websiteUrl+"/users/"+e+"/profile"},u=function(e){var t,a,i,n={isLimited:!1,isRthro:!1,isThirteenPlus:!1,isLimitedUnique:!1,itemRestrictionIcon:""};return e&&e.itemRestrictions&&(t=S.itemTypes,a=S.itemRestrictionTypes,i=S.itemRestrictionIcons,e.itemType===t.bundle?(n.isLimited=-1<e.itemRestrictions.indexOf(a.limited),n.isRthro=-1<e.itemRestrictions.indexOf(a.rthro),n.isLimited?n.itemRestrictionIcon=n.isRthro?i.rthroLimitedLabel:i.limited:n.isRthro&&(n.itemRestrictionIcon=i.rthroLabel)):(n.isThirteenPlus=-1<e.itemRestrictions.indexOf(a.thirteenPlus),n.isLimitedUnique=-1<e.itemRestrictions.indexOf(a.limitedUnique),n.isLimited=-1<e.itemRestrictions.indexOf(a.limited),n.isLimitedUnique?n.itemRestrictionIcon=n.isThirteenPlus?i.thirteenPlusLimitedUnique:i.limitedUnique:n.isLimited?n.itemRestrictionIcon=n.isThirteenPlus?i.thirteenPlusLimited:i.limited:n.isThirteenPlus&&(n.itemRestrictionIcon=i.thirteenPlus))),n},d=function(e){var t,a,i,n,r=[];return e&&e.itemStatus&&(t=S.itemStatusClasses,a=S.itemStatusIcons,i=S.itemStatusLabels,n=S.itemStatusTypes,-1<e.itemStatus.indexOf(n.SaleTimer)&&r.push({isIcon:!0,type:a.SaleTimer,class:"",label:""}),-1<e.itemStatus.indexOf(n.New)&&r.push({isIcon:!1,type:"",class:t.New,label:i.New}),-1<e.itemStatus.indexOf(n.Sale)&&r.push({isIcon:!1,type:"",class:t.Sale,label:i.Sale}),-1<e.itemStatus.indexOf(n.XboxExclusive)&&r.push({isIcon:!1,type:"",class:t.XboxExclusive,label:i.XboxExclusive}),-1<e.itemStatus.indexOf(n.AmazonExclusive)&&r.push({isIcon:!1,type:"",class:t.AmazonExclusive,label:i.AmazonExclusive}),-1<e.itemStatus.indexOf(n.GooglePlayExclusive)&&r.push({isIcon:!1,type:"",class:t.GooglePlayExclusive,label:i.GooglePlayExclusive}),-1<e.itemStatus.indexOf(n.IosExclusive)&&r.push({isIcon:!1,type:"",class:t.IosExclusive,label:i.IosExclusive})),r},R=n.numberFormat.getNumberFormat;function p(e){function t(){return s!==S.robloxSystemUserId||0<d||0<o&&0<c}var a=e.id,i=e.name,n=e.type,r=e.creatorName,l=e.creatorType,s=e.creatorTargetId,o=e.price,c=e.lowestPrice,m=e.priceStatus,u=e.premiumPricing,d=e.unitsAvailableForConsumption,p=e.itemStatus,v=e.itemStatusLabels,h=e.itemRestrictions,b=e.itemRestrictionLabels,f=e.url,E=e.translate,e=function(){return y.authenticatedUser.isPremiumUser&&void 0!==u&&void 0!==u.premiumPriceInRobux?u.premiumPriceInRobux:void 0!==c?c:o};return x().createElement("div",{className:"list-item item-card grid-item-container item-card-container",key:i},x().createElement("a",{href:f,target:"_self",className:"item-card-link"},x().createElement("div",{className:"item-card-link"},x().createElement("div",{className:"item-card-thumb-container"},x().createElement(g.Thumbnail2d,{type:"Bundle"===n?g.ThumbnailTypes.bundleThumbnail:g.ThumbnailTypes.assetThumbnail,targetId:a,size:g.DefaultThumbnailSize}),void 0!==p&&0<p.length&&x().createElement("div",{className:" item-cards-stackable"},x().createElement("div",{className:"asset-status-icon"},v.map(function(e){return x().createElement("div",{className:(e.isIcon?"has-icon":"")+" "+e.class,key:e.type},e.isIcon&&x().createElement("span",{className:e.type}),void 0!==e.label&&x().createElement("span",null,E(e.label)))}))),null!==h&&0<h.length&&null!==b.itemRestrictionIcon&&x().createElement("span",{className:"restriction-icon "+b.itemRestrictionIcon}))),x().createElement("div",{className:"item-card-caption"},x().createElement("div",{className:"item-card-name-link"},x().createElement("div",{className:"item-card-name",title:i},void 0!==u&&x().createElement("span",{className:"icon-premium-small"}),i)),x().createElement("div",{className:"item-card-secondary-info text-secondary"},void 0!==d&&0<d&&x().createElement("div",{className:"text-overflow item-card-label"},x().createElement("span",null,E("Label.Card.Remaining")),x().createElement("span",null,R(d))),void 0!==r&&void 0!==s&&void 0!==l&&!(1===s&&"User"===l)&&x().createElement("div",{className:"text-overflow item-card-label"},x().createElement("span",{dangerouslySetInnerHTML:{__html:E("Label.ByCreatorLink",{linkStart:"<a target=_self class='creator-name text-link' href='"+N(s,l,r)+"'>",linkEnd:"</a>",creator:r})}})),void 0!==c&&void 0!==o&&x().createElement("div",{className:"text-overflow item-card-label"},x().createElement("span",null,E("Label.Card.PriceWas")),x().createElement("span",{className:"icon-robux-gray-16x16"}),x().createElement("span",{className:"strike-through"},R(o)))),0===o&&void 0!==m&&x().createElement("div",{className:"text-overflow item-card-price font-header-2 text-subheader "+(t()?"margin-top-none":"")},x().createElement("span",{className:"text text-label text-robux-tile"},m)),0<e()&&x().createElement("div",{className:"text-overflow item-card-price font-header-2 text-subheader "+(t()?"margin-top-none":"")},x().createElement("span",{className:"icon icon-robux-16x16"}),x().createElement("span",{className:"text-robux-tile"},R(e()))))))}var a={common:[""],feature:"Feature.Recommendations"},v=function(e,l,s,o){return new(s=s||Promise)(function(a,t){function i(e){try{r(o.next(e))}catch(e){t(e)}}function n(e){try{r(o.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?a(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,n)}r((o=o.apply(e,l||[])).next())})},h=function(a,i){var n,r,l,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(l=2&t[0]?r.return:t[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,t[1])).done)return l;switch(r=0,l&&(t=[2&t[0],l.value]),t[0]){case 0:case 1:l=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,r=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(l=0<(l=s.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){s.label=t[1];break}if(6===t[0]&&s.label<l[1]){s.label=l[1],l=t;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(t);break}l[2]&&s.ops.pop(),s.trys.pop();continue}t=i.call(a,s)}catch(e){t=[6,e],r=0}finally{n=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},b=(0,e.withTranslations)(function(e){var t=e.translate,a=(0,r.useState)(void 0),e=a[0],i=a[1],n=(0,r.useCallback)(function(){return v(void 0,void 0,void 0,function(){return h(this,function(e){return[2,c.getCatalogSearchV2()]})})},[]),a=(0,r.useCallback)(function(){n().then(function(e){e=e.data.data.slice(0,o.numberOfItemsToDisplay);i(e)}).catch(function(){i([])})},[n]);return void 0===e?(a(),x().createElement("div",{className:"avatar-shop-homepage-recommendations-container",id:"loading-avatar-shop-homepage-recommendations"},x().createElement("div",{className:"avatar-home-page-loading-title shimmer"}),x().createElement("div",{className:"avatar-home-page-loading-carousel"}),x().createElement("div",{className:"avatar-shop-homepage-carousel"},Array.from({length:o.numberOfItemsToDisplay},function(e,t){return x().createElement("div",{key:t,className:"grid-item-container item-card-container item-card item-card-loading"},x().createElement("div",{className:"item-card-thumb-container shimmer"}),x().createElement("div",{className:"item-card-link"},x().createElement("div",{className:"item-card-name shimmer"}),x().createElement("div",{className:"item-card-name item-name-title-half shimmer"})))})))):x().createElement(x().Fragment,null,x().createElement("div",{className:"avatar-shop-homepage-recommendations-container",id:"populated-avatar-shop-homepage-recommendations"},x().createElement("div",{className:"avatar-shop-homepage-carousel-title"},x().createElement(l.Link,{url:o.avatarShopRecommendationUrl,className:"font-header-1"},t("Label.AvatarItemsForYou")),x().createElement(l.Link,{url:o.avatarShopRecommendationUrl,className:"see-all-link-icon"},t("Action.SeeAll"))),x().createElement("div",{className:"avatar-shop-homepage-carousel"},e.map(function(e){return x().createElement(p,{id:e.id,name:e.name,type:e.itemType,creatorName:e.creatorName,creatorType:e.creatorType,creatorTargetId:e.creatorTargetId,price:e.price,lowestPrice:e.lowestPrice,unitsAvailableForConsumption:e.unitsAvailableForConsumption,itemStatus:e.itemStatus,itemStatusLabels:d(e),priceStatus:e.priceStatus,premiumPricing:e.premiumPricing,itemRestrictions:e.itemRestrictions,itemRestrictionLabels:u(e),translate:t,url:m(e.id,e.name,e.itemType)})}))))},a);function f(){var e=document.getElementById("avatar-shop-homepage-recommendations");e?(0,t.render)(x().createElement(b,null),e):window.requestAnimationFrame(f)}(0,n.ready)(function(){f()}),window.Roblox.AvatarShopHomepageRecommendations=b}();
//# sourceMappingURL=https://js.rbxcdn.com/39a06b308acb119c27fa-avatarShopHomepageRecommendations.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AvatarShopHomepageRecommendations");